---
title: 2.3.4 PayPal issue hotfix
link: https://support.magento.com/hc/en-us/articles/360039451972-2-3-4-PayPal-issue-hotfix
labels: Magento Commerce Cloud,Magento Commerce,patch,troubleshooting,known issues,Error 500: NOTICE: PHP message: PHP Fatal error: Uncaught Error: Call to a member function getId() on null in httpdocs/vendor/magento/module-paypal/Model/Api/Nvp.php:1527,2.3.4,PayPal Express Checkout
---

<p>This article provides a fix for errors received during order placement when selecting a region in PayPal Express Checkout. The issue is caused by changes made in the Magento v2.3.4 release and is related to how PayPal Express Checkout address fields are parsed.</p>
<h2>Affected versions and products </h2>
<ul>
<li>Magento Commerce Cloud v2.3.4</li>
<li>Magento Commerce v2.3.4</li>
</ul>
<h2>Issue</h2>
<p>An error occurs when entering the country and region during order placement in PayPal Express Checkout. The issue is reproducible for any country where the region field in the address section is a text field (as opposed to a drop-down menu). </p>
<p>Steps to reproduce:</p>
<ol>
<li>Enable PayPal Express Checkout.</li>
<li>Add product to cart as a guest or when you are logged in.</li>
<li>Go to checkout.</li>
<li>Select your shipping address. For example, the <em>UK</em>. Then enter an input into the State/Province field. For example, <em>Nottinghamshire</em>.</li>
<li>Click on the Place Order button to place order. You get a successful order page and email from Magento.</li>
</ol>
<p>Expected Result:<br/> The order is placed successfully.<br/> <br/> Actual Result:<br/><br/>When the order button is clicked on an error displays:</p>
<pre class="line-numbers"><code class="language-clike">Error 500: NOTICE: PHP message: PHP Fatal error: Uncaught Error: Call to a member
  function getId() on null in httpdocs/vendor/magento/module-paypal/Model/Api/Nvp.php:1527</code></pre>
<h2>Solution</h2>
<p>For On-Prem Merchants: Apply the <a href="https://magento.com/tech-resources/download#download2353">hotfix,</a> which is available from the Downloads section on <a href="https://magento.com">magento.com</a> portal in My account.</p>
<p>For Cloud Merchants: Magento will include the fix in the Magento Cloud Patches page 1.0.2.  Please refer to DevDocs <a href="https://devdocs.magento.com/cloud/release-notes/mcp-release-notes.html?itm_source=devdocs&amp;itm_medium=quick_search&amp;itm_campaign=federated_search&amp;itm_term=cloud%20patche">Magento Cloud patches release notes</a> in order to find instructions on applying the latest package. </p>
<h2>How to Apply the Patch</h2>
<p>See <a href="https://support.magento.com/hc/en-us/articles/360028367731">How to apply a composer patch provided by Magento</a> for instructions.</p>
<h2>Related Reading</h2>
<ul>
<li>DevDocs Magento Commerce 2.3.4 Release Notes: <a href="https://devdocs.magento.com/guides/v2.3/release-notes/release-notes-2-3-4-commerce.html#apply-the-paypal-express-checkout-issue-with-region-patch-for-magento-234-to-address-a-critical-paypal-express-checkout-issue">Apply the PayPal Express Checkout issue with region patch for Magento 2.3.4 to address a critical PayPal Express Checkout issue</a>
</li>
</ul>